webpackJsonp([1],{"7+Qw":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("Yi9U"),a=r.n(i);for(var s in i)"default"!==s&&function(e){r.d(t,e,function(){return i[e]})}(s);var l=r("ZsUa");var o=function(e){r("hoTJ")},n=r("VU/8")(a.a,l.a,!1,o,"data-v-615b6d2c",null);t.default=n.exports},AkH7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(r("mvHQ")),a=l(r("7+Qw")),s=l(r("G/Zr"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{options1:[{value:"ALL_ORDER",label:"订单列表"},{value:"UNPAID",label:"待确认支付"},{value:"PRESELL_PAID",label:"已支付订金"},{value:"BEGIN_FINAL_PAY",label:"开始支付尾款"},{value:"WAIT_FOR_FINAL_PAY",label:"待支付尾款"},{value:"UNDELIVERED1",label:"待发货（发货）"},{value:"UNDELIVERED2",label:"待发货（托管）"},{value:"UNDELIVERED3",label:"已安排发货"},{value:"UNDELIVERED4",label:"已安排部署"},{value:"DELIVERED1",label:"已发货（发货）"},{value:"DELIVERED2",label:"已发货（托管）"},{value:"COMPLETED1",label:"确认收货"},{value:"COMPLETED2",label:"完成部署"},{value:"CANCELED",label:"已取消"},{value:"EXPIRED",label:"已过期"}],value1:"ALL_ORDER",orderList:[],IsHostingOrder:"",ReadyDeliver:"",totalNo:0,pageNo:1,pageSize:50,isOffine:!1,filterMsg:{},searchMsg:{},IsHostingOrderExport:"",ReadyDeliverExport:"",orderListExport:[]}},components:{orderComponent:a.default,orderFilter:s.default},methods:{exportList:function(){var e=this;this.IsHostingOrderExport="",this.ReadyDeliverExport="";var t=this.value1;"UNDELIVERED1"==this.value1?(t="UNDELIVERED",this.IsHostingOrderExport="0",this.ReadyDeliverExport="0"):"UNDELIVERED2"==this.value1?(t="UNDELIVERED",this.IsHostingOrderExport="1",this.ReadyDeliverExport="0"):"UNDELIVERED3"==this.value1?(t="UNDELIVERED",this.ReadyDeliverExport="1",this.IsHostingOrderExport=""):"DELIVERED1"==this.value1?(t="DELIVERED",this.IsHostingOrderExport="0"):"DELIVERED2"==this.value1&&(t="DELIVERED",this.IsHostingOrderExport="1");var r={productName:this.productName,payment:this.filterMsg.value3,lang:this.filterMsg.value4,createStartTime:this.filterMsg.createStartTime,createEndTime:this.filterMsg.createEndTime,updateStartTime:this.filterMsg.updateStartTime,updateEndTime:this.filterMsg.updateEndTime,readyDeliver:this.ReadyDeliverExport,isHostingOrder:this.IsHostingOrderExport,status:"ALL_ORDER"==t?"":t,orderNo:this.searchMsg.orderNo,account:this.searchMsg.account,email:this.searchMsg.email,expressOrderNumber:this.searchMsg.expressOrderNumber,receiverName:this.searchMsg.receiverName,hostName:this.searchMsg.hostName,orderId:this.searchMsg.orderId,pageNo:"",pageSize:""};this.$api("/admin/order/get_order_list",r).then(function(t){var r=t.data;e.orderListExport=r.orderList,console.log(e.orderListExport);var a=[];e.orderListExport.forEach(function(e,t){a.push(e.Id)});var s={};e.$set(s,"orderIds",a),e.$confirm("是否确认导出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api("/admin/order/export_order_total",{orderIds:(0,i.default)(s)}).then(function(e){location.href=e.data.csvFilePath})}).catch(function(){e.$message({type:"info",message:"取消操作"})})})},selectStair:function(){this.getOrderList(this.value1)},getOrderList:function(e){var t=this;this.IsHostingOrder="",this.ReadyDeliver="","UNDELIVERED1"==e?(e="UNDELIVERED",this.IsHostingOrder="0",this.ReadyDeliver="0"):"UNDELIVERED2"==e?(e="UNDELIVERED",this.IsHostingOrder="1",this.ReadyDeliver="0"):"UNDELIVERED3"==e?(e="UNDELIVERED",this.ReadyDeliver="1",this.IsHostingOrder="0"):"UNDELIVERED4"==e?(e="UNDELIVERED",this.ReadyDeliver="1",this.IsHostingOrder="1"):"DELIVERED1"==e?(e="DELIVERED",this.IsHostingOrder="0"):"DELIVERED2"==e&&(e="DELIVERED",this.IsHostingOrder="1"),"COMPLETED1"==e?(e="COMPLETED",this.IsHostingOrder="0"):"COMPLETED2"==e&&(e="COMPLETED",this.IsHostingOrder="1"),this.filterMsg.value2?this.productName=this.filterMsg.value2.split("/")[1]:this.productName="";var r={productName:this.productName,payment:this.filterMsg.value3,lang:this.filterMsg.value4,createStartTime:this.filterMsg.createStartTime,createEndTime:this.filterMsg.createEndTime,updateStartTime:this.filterMsg.updateStartTime,updateEndTime:this.filterMsg.updateEndTime,readyDeliver:this.ReadyDeliver,isHostingOrder:this.IsHostingOrder,status:"ALL_ORDER"==e?"":e,orderNo:this.searchMsg.orderNo,account:this.searchMsg.account,email:this.searchMsg.email,expressOrderNumber:this.searchMsg.expressOrderNumber,receiverName:this.searchMsg.receiverName,hostName:this.searchMsg.hostName,orderId:this.searchMsg.orderId,pageNo:this.pageNo,pageSize:this.pageSize};this.$api("/admin/order/get_order_list",r).then(function(e){var r=e.data;t.orderList=r.orderList,t.totalNo=r.page.totalNum;var i={value1:t.value1,orderList:t.orderList};t.msg.$emit("sendOrderList",i)})}},watch:{filterMsg:{handler:function(e,t){this.getOrderList(this.value1)},deep:!0},searchMsg:{handler:function(e,t){this.getOrderList(this.value1)},deep:!0},pageNo:{handler:function(e,t){this.getOrderList(this.value1)},deep:!0}},mounted:function(){var e=this;this.msg.$on("filterBtn",function(t){console.log(t),e.filterMsg=t}),this.msg.$on("searchBtn",function(t){e.searchMsg=t}),this.msg.$on("exportChecked",function(t){t.length>0&&e.getOrderList(e.value1)}),this.msg.$on("paging",function(t){e.pageNo=t})},created:function(){this.getOrderList("")}}},"G/Zr":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("z8bA"),a=r.n(i);for(var s in i)"default"!==s&&function(e){r.d(t,e,function(){return i[e]})}(s);var l=r("N6kk");var o=function(e){r("gjbl")},n=r("VU/8")(a.a,l.a,!1,o,"data-v-8b6bd748",null);t.default=n.exports},N6kk:function(e,t,r){"use strict";var i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"oprator"},[r("div",{staticClass:"oprator_filter"},[r("span",{staticClass:"oprator_title"},[e._v("商品")]),e._v(" "),r("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"",size:"mini"},on:{change:e.selectSecond1},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.productList,function(e,t){return r("el-option",{key:t,attrs:{label:e.ID+"/"+e.Name,value:e.ID+"/"+e.Name}})})),e._v(" "),r("span",{staticClass:"oprator_title"},[e._v("支付方式")]),e._v(" "),r("el-select",{staticStyle:{width:"85px"},attrs:{placeholder:"",size:"mini"},on:{change:e.selectSecond2},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}},e._l(e.options3,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),r("span",{staticClass:"oprator_title"},[e._v("站点")]),e._v(" "),r("el-select",{staticStyle:{width:"75px"},attrs:{placeholder:"",size:"mini"},on:{change:e.selectSecond3},model:{value:e.value4,callback:function(t){e.value4=t},expression:"value4"}},e._l(e.options4,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),r("el-select",{staticStyle:{"margin-left":"20px",width:"100px"},attrs:{placeholder:"",size:"mini"},on:{change:e.selectSecond5},model:{value:e.value5,callback:function(t){e.value5=t},expression:"value5"}},e._l(e.options5,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini","value-format":"timestamp"},model:{value:e.valuetime1,callback:function(t){e.valuetime1=t},expression:"valuetime1"}}),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.filterBtn}},[e._v("过滤")])],1),e._v(" "),r("div",{staticClass:"oprator_search"},[r("el-select",{staticStyle:{width:"110px"},attrs:{placeholder:"",size:"mini"},on:{change:e.searchCondition},model:{value:e.valueSearch,callback:function(t){e.valueSearch=t},expression:"valueSearch"}},e._l(e.optionsSearch,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),r("el-input",{staticClass:"search_input",attrs:{placeholder:"请输入搜索方式",clearable:"",size:"small"},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}}),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.searchBtn()}}},[e._v("搜索")])],1),e._v(" "),"UNDELIVERED1"==e.value1||"UNDELIVERED2"==e.value1?r("div",{staticClass:"oprator_derive",staticStyle:{padding:"20px 0px 0px 40px"}},[r("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),r("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini"},on:{click:e.exportOrderConfirm}},[e._v("批量导出")]),e._v(" "),r("el-checkbox-group",{staticStyle:{"z-index":"2000",position:"relative"},on:{change:e.handleCheckedItemsChange},model:{value:e.checkedItems,callback:function(t){e.checkedItems=t},expression:"checkedItems"}},e._l(e.orderList,function(t,i){return r("el-checkbox",{key:i,class:"check"+t.OrderId,style:"margin-left: 30px;position: absolute;left: -25px;top:"+(216*i+33)+"px",attrs:{label:t}},[e._v(e._s(""))])}))],1):e._e(),e._v(" "),"UNDELIVERED3"==e.value1?r("router-link",{staticStyle:{position:"relative",top:"12px",left:"53px"},attrs:{to:{path:"/ordermanage/batch_deliver"}}},[r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("批量发货")])],1):e._e(),e._v(" "),"UNDELIVERED4"==e.value1?r("router-link",{staticStyle:{position:"relative",top:"12px",left:"60px"},attrs:{to:{path:"/ordermanage/batch_deploy"}}},[r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("批量部署")])],1):e._e()],1)},staticRenderFns:[]};t.a=i},Yi9U:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"orderComponent",data:function(){return{overTime:!1,oldAddressDetail:{},order_id:"",orderList:[],currentPage:1,dialogVisible:!1,dialogVisible1:!1,dialogVisibleOffline:!1,OrderId:0,input2:"",input3:"",Id:0,newAddressDetail:{Receiver:"",MobilePhone:"",PhoneNumber:"",Address:"",ZipCode:""},adressInput1:"",ruleForm:{type:"UnionPay",bfyName:"",bfyBankName:"",bankCode:"",needPay:"",bankAddress:"",swiftCode:"",bfyAccountNumber:"",bfyAddress:"",btcAddress:"",status:""},rules:{status:[{required:!0,message:"请选择支付类型",trigger:"blur"}],type:[{required:!0,message:"请选择支付类型",trigger:"blur"}],bfyName:[{required:!0,message:"请输入汇款人姓名",trigger:"blur"}],bfyBankName:[{required:!0,message:"请输入汇款银行",trigger:"blur"}],bankCode:[{required:!0,message:"请输入汇款银行卡号",trigger:"blur"},{min:10,max:30,message:"长度在 10 到 30 个字符",trigger:"blur"}],needPay:[{required:!0,message:"请输入比特币数量",trigger:"blur"},{type:"number",message:"单价必须为数字"}],bankAddress:[{required:!0,message:"请输入银行地址",trigger:"blur"}],swiftCode:[{required:!0,message:"请输入银行代码",trigger:"blur"}],bfyAccountNumber:[{required:!0,message:"请输入汇款人账号",trigger:"blur"}],bfyAddress:[{required:!0,message:"请输入汇款人地址",trigger:"blur"}],btcAddress:[{required:!0,message:"请输入BTC汇款地址",trigger:"blur"},{min:10,message:"长度不低于10个字符",trigger:"blur"},{pattern:/^[A-Za-z0-9]+$/,message:"不允许输入空格汉字"}]}}},props:["totalNo","isOffine"],methods:{itemShow:function(e){var t=this;this.$api("/admin/order/get_unpaid_order_list",{account:e.Account,status:"UNPAID",pageNo:1,pageSize:10,isShowMsg:!1}).then(function(e){e.data?t.overTime=!1:t.overTime=!0})},confirmOffine:function(e){this.dialogVisibleOffline=!0,this.order_id=e},addPayInfo:function(){var e=this;this.$api("/admin/offline/add_pay_info",{orderId:this.order_id,status:this.ruleForm.status,payCurrency:this.ruleForm.type,bfyName:this.ruleForm.bfyName,bfyBankName:this.ruleForm.bfyBankName,bankCode:this.ruleForm.bankCode,bankAddress:this.ruleForm.bankAddress,swiftCode:this.ruleForm.swiftCode,bfyAccountNumber:this.ruleForm.bfyAccountNumber,bfyAddress:this.ruleForm.bfyAddress,btcAddress:this.ruleForm.btcAddress,needPay:this.ruleForm.needPay,remarks:""}).then(function(t){e.dialogVisibleOffline=!1,e.$message({type:"success",message:"操作成功!"}),window.location.reload()})},getOrderChange:function(e){var t=e;this.msg.$emit("paging",t)},submitPrice:function(){var e=this;(this.input2||this.input3)&&this.$api("/admin/order/update_order_price",{orderId:this.Id,productOriginPrice:this.input2,productOriginUsdPrice:this.input3,notice:"修改价格成功"}).then(function(t){e.dialogVisible=!1,setTimeout("window.location.reload()",1500)})},submitAddress:function(){var e=this;this.dialogVisible1=!1,this.$api("/admin/order/update_order_address",{orderId:this.adressInput1,receiver:this.newAddressDetail.Receiver?this.newAddressDetail.Receiver:this.oldAddressDetail.Receiver,addrPhone:this.newAddressDetail.PhoneNumber?this.newAddressDetail.PhoneNumber:this.oldAddressDetail.PhoneNumber,addrMobilephone:this.newAddressDetail.MobilePhone?this.newAddressDetail.MobilePhone:this.oldAddressDetail.MobilePhone,address:this.newAddressDetail.Address?this.newAddressDetail.Address:this.oldAddressDetail.Address,zipCode:this.newAddressDetail.ZipCode?this.newAddressDetail.ZipCode:this.oldAddressDetail.ZipCode}).then(function(t){e.$message({type:"success",message:"地址修改成功!"}),e.dialogVisible=!1})},updateOrderPrice:function(e){this.dialogVisible=!0,this.OrderId=e.OrderId,this.Id=e.Id,this.input2=e.ProductOriginPrice,this.input3=e.ProductOriginUsdPrice},confirmM:function(e,t){var r=this;console.log(e,t),this.$confirm("是否确认操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r.updateOderInfo(e,t)}).catch(function(){r.$message({type:"info",message:"取消操作"})})},updateOderInfo:function(e,t){this.$api("/admin/order/update_order_info",{orderId:e,operationType:t,notice:"操作成功"}).then(function(e){window.location.reload()})},updateAddress:function(e){var t=this;this.dialogVisible1=!0,this.adressId=e,this.adressInput1=e,this.$api("/admin/order/get_order_detail",{orderId:e}).then(function(e){var r=e.data.addressDetail;t.oldAddressDetail=r})}},mounted:function(){var e=this;this.msg.$on("sendOrderList",function(t){e.orderList=t.orderList})}}},ZsUa:function(e,t,r){"use strict";var i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order_list"},[r("div",{staticClass:"order_show"},[e._l(e.orderList,function(t,i){return r("el-card",{key:i,staticClass:"box-card-order",attrs:{"body-style":{"background-color":"#ffffff"}}},[r("div",{staticClass:"clearfix order_show_head",attrs:{slot:"header"},slot:"header"},[r("span",{staticStyle:{margin:"0 0 0 15px"}},[e._v("订单号："+e._s(t.OrderId))]),e._v(" "),r("span",{staticStyle:{margin:"0 20px"}},[e._v("下单时间："+e._s(e._f("date")(t.CreateTime)))]),e._v(" "),r("span",[e._v("更新时间："+e._s(e._f("date")(t.UpdateTime)))]),e._v(" "),e.isOffine?r("span",{staticStyle:{margin:"0 0 0 15px"}},[e._v("（线下订单）")]):e._e(),e._v(" "),r("el-popover",{staticStyle:{float:"right",height:"19px"},attrs:{placement:"bottom",trigger:"click"},on:{show:function(r){e.itemShow(t)}}},["UNPAID"!=t.Status&&"WAIT_FOR_FINAL_PAY"!=t.Status||"UnionPay"!=t.Payment&&1!=t.IsOffline&&"UnionPay"!=t.PresellPayment?e._e():r("div",{staticClass:"order_show_selectitem"},[r("span",{staticStyle:{display:"inline-block",width:"100%",height:"100%"},on:{click:function(r){e.confirmM(t.Id,"confirmGatherMoney")}}},[e._v("确认收款")])]),e._v(" "),"PRESELL_PAID"==t.Status||"UNPAID"==t.Status||"PRESELL_PAID"==t.Status||"BEGIN_FINAL_PAY"==t.Status||"WAIT_FOR_FINAL_PAY"==t.Status?r("div",{staticClass:"order_show_selectitem",on:{click:function(r){e.updateOrderPrice(t)}}},[e._v("修改价格")]):e._e(),e._v(" "),"UNPAID"==t.Status?r("div",{staticClass:"order_show_selectitem",on:{click:function(r){e.confirmM(t.Id,"cancelOrder")}}},[e._v("取消订单")]):e._e(),e._v(" "),"UNPAID"!=t.Status&&"EXPIRED"!=t.Status||!e.overTime?e._e():r("div",{staticClass:"order_show_selectitem",on:{click:function(r){e.confirmM(t.Id,"overtime")}}},[e._v("延长时间")]),e._v(" "),"UNDELIVERED"==t.Status?r("div",{staticClass:"order_show_selectitem"},[r("router-link",{staticStyle:{display:"inline-block",width:"100%",height:"100%"},attrs:{to:{path:"/ordermanage/order_sending",query:{OrderId:t.Id}}}},[e._v("\n                            发货\n                        ")])],1):e._e(),e._v(" "),"UNDELIVERED"==t.Status&&0==t.IsHostingOrder?r("div",{staticClass:"order_show_selectitem",on:{click:function(r){e.updateAddress(t.Id)}}},[e._v("修改地址")]):e._e(),e._v(" "),"DELIVERED"==t.Status&&0==t.IsHostingOrder?r("div",{staticClass:"order_show_selectitem",on:{click:function(r){e.confirmM(t.Id,"completed")}}},[e._v("确认收货\n                    ")]):e._e(),e._v(" "),r("div",{staticClass:"order_show_selectitem"},[e.isOffine?r("router-link",{staticStyle:{display:"inline-block",width:"100%",height:"100%"},attrs:{to:{path:"/offlinemanager/offline_order_detail",query:{OrderId:t.Id}}}},[e._v("\n                            查看详情\n                        ")]):r("router-link",{staticStyle:{display:"inline-block",width:"100%",height:"100%"},attrs:{to:{path:"/ordermanage/order_detail",query:{OrderId:t.Id}}}},[e._v("\n                            查看详情\n                        ")])],1),e._v(" "),"DELIVERED"==t.Status&&1==t.IsHostingOrder?r("div",{staticClass:"order_show_selectitem"},[r("router-link",{staticStyle:{display:"inline-block",width:"100%",height:"100%"},attrs:{to:{path:"/ordermanage/order_hosted",query:{OrderId:t.Id}}}},[e._v("\n                            完成部署\n                        ")])],1):e._e(),e._v(" "),r("el-button",{staticClass:"order_show_button",attrs:{slot:"reference"},slot:"reference"},[r("i",{staticClass:"el-icon-arrow-down"})])],1)],1),e._v(" "),r("table",{staticClass:"order_show_table"},[r("tr",[r("th",[e._v("ID")]),e._v(" "),r("th",[e._v("用户名")]),e._v(" "),r("th",[e._v("商品ID")]),e._v(" "),r("th",[e._v("商品名")]),e._v(" "),r("th",[e._v("类型")]),e._v(" "),r("th",[e._v("单价")]),e._v(" "),r("th",[e._v("数量")]),e._v(" "),r("th",[e._v("优惠金额")]),e._v(" "),r("th",[e._v("总价")]),e._v(" "),r("th",[e._v("支付方式")]),e._v(" "),r("th",[e._v("状态")])]),e._v(" "),r("tr",[r("td",[e._v(e._s(t.Id))]),e._v(" "),r("td",[e._v(e._s(t.Account))]),e._v(" "),r("td",[e._v(e._s(t.ProductId))]),e._v(" "),r("td",[e._v(e._s(t.ProductName))]),e._v(" "),r("td",[e._v(e._s(t.IsPresell?"预售":"全款"))]),e._v(" "),r("td",[e._v(e._s(t.ProductOriginPrice))]),e._v(" "),r("td",[e._v(e._s(t.Amount))]),e._v(" "),r("td",[e._v(e._s(t.Discount))]),e._v(" "),r("td",[t.IsPresell?r("div",["UnionPay"==t.PresellPayment?r("span",[e._v(e._s(t.TotalShouldPayPrice))]):"BTC"==t.PresellPayment?r("span",[e._v(e._s(t.TotalShouldPayBtcPrice))]):r("span",[e._v(e._s(t.PresellPayment))])]):r("div",["UnionPay"==t.Payment?r("span",[e._v(e._s(t.TotalShouldPayPrice))]):"BTC"==t.Payment?r("span",[e._v(e._s(t.TotalShouldPayBtcPrice))]):r("span",[e._v(e._s(t.Payment))])])]),e._v(" "),r("td",[t.IsPresell?r("div",["UnionPay"==t.PresellPayment?r("span",[e._v("人民币")]):"BTC"==t.PresellPayment?r("span",[e._v("BTC")]):r("span",[e._v(e._s(t.PresellPayment))])]):r("div",["UnionPay"==t.Payment?r("span",[e._v("人民币")]):"BTC"==t.Payment?r("span",[e._v("BTC")]):r("span",[e._v(e._s(t.Payment))])])]),e._v(" "),r("td",[r("span",[e._v(e._s(e._f("statusFilter")(t)))])])])])])}),e._v(" "),r("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":50,layout:"total, prev, pager, next, jumper",total:e.totalNo},on:{"current-change":e.getOrderChange}})],2),e._v(" "),r("el-dialog",{attrs:{title:"修改价格",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("h4",[e._v("ID")]),e._v(" "),r("el-input",{attrs:{placeholder:this.Id,disabled:!0}}),e._v(" "),r("h4",[e._v("订单ID")]),e._v(" "),r("el-input",{attrs:{disabled:!0,placeholder:this.OrderId}}),e._v(" "),r("h4",[e._v("人民币单价")]),e._v(" "),r("el-input",{attrs:{placeholder:"人民币单价",clearable:""},model:{value:e.input2,callback:function(t){e.input2=t},expression:"input2"}}),e._v(" "),r("h4",[e._v("美元单价")]),e._v(" "),r("el-input",{attrs:{placeholder:"美元单价",clearable:""},model:{value:e.input3,callback:function(t){e.input3=t},expression:"input3"}}),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.submitPrice}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"确认支付信息",visible:e.dialogVisibleOffline,width:"50%"},on:{"update:visible":function(t){e.dialogVisibleOffline=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"收款方式",prop:"type"}},[r("el-radio-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[r("el-radio",{attrs:{label:"UnionPay"}},[e._v("人民币")]),e._v(" "),r("el-radio",{attrs:{label:"USD"}},[e._v("美元")]),e._v(" "),r("el-radio",{attrs:{label:"BTC"}},[e._v("BTC")])],1)],1),e._v(" "),r("br"),e._v(" "),"UnionPay"==e.ruleForm.type?r("div",[r("el-form-item",{attrs:{label:"汇款人姓名",prop:"bfyName"}},[r("el-input",{staticStyle:{width:"317px"},attrs:{placeholder:"请输入汇款人姓名"},model:{value:e.ruleForm.bfyName,callback:function(t){e.$set(e.ruleForm,"bfyName",t)},expression:"ruleForm.bfyName"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"汇款银行",prop:"bfyBankName"}},[r("el-input",{staticStyle:{width:"317px"},attrs:{placeholder:"请输入汇款银行"},model:{value:e.ruleForm.bfyBankName,callback:function(t){e.$set(e.ruleForm,"bfyBankName",t)},expression:"ruleForm.bfyBankName"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"汇款卡号",prop:"bankCode"}},[r("el-input",{staticStyle:{width:"317px"},attrs:{placeholder:"请输入汇款银行卡号"},model:{value:e.ruleForm.bankCode,callback:function(t){e.$set(e.ruleForm,"bankCode",t)},expression:"ruleForm.bankCode"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"汇款金额",prop:"needPay"}},[r("el-input",{staticStyle:{width:"317px"},attrs:{placeholder:"请输入汇款金额"},model:{value:e.ruleForm.needPay,callback:function(t){e.$set(e.ruleForm,"needPay",e._n(t))},expression:"ruleForm.needPay"}})],1)],1):e._e(),e._v(" "),"USD"==e.ruleForm.type?r("div",[r("el-form-item",{attrs:{label:"remitter",prop:"bfyName"}},[r("el-input",{staticStyle:{width:"417px"},attrs:{placeholder:"Please fill in your remitting bank remitter's name"},model:{value:e.ruleForm.bfyName,callback:function(t){e.$set(e.ruleForm,"bfyName",t)},expression:"ruleForm.bfyName"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"remitBank",prop:"bfyBankName"}},[r("el-input",{staticStyle:{width:"417px"},attrs:{placeholder:"Please fill in your remitting bank remitting bank name"},model:{value:e.ruleForm.bfyBankName,callback:function(t){e.$set(e.ruleForm,"bfyBankName",t)},expression:"ruleForm.bfyBankName"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"remittNum",prop:"bankCode"}},[r("el-input",{staticStyle:{width:"417px"},attrs:{placeholder:"Please fill in your remitting bank remitting bank code"},model:{value:e.ruleForm.bankCode,callback:function(t){e.$set(e.ruleForm,"bankCode",t)},expression:"ruleForm.bankCode"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"remittAdd",prop:"bankAddress"}},[r("el-input",{staticStyle:{width:"417px"},attrs:{placeholder:"Please fill in remitting bank address"},model:{value:e.ruleForm.bankAddress,callback:function(t){e.$set(e.ruleForm,"bankAddress",t)},expression:"ruleForm.bankAddress"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"swiftCode",prop:"swiftCode"}},[r("el-input",{staticStyle:{width:"417px"},attrs:{placeholder:"Please fill in remitting swift code"},model:{value:e.ruleForm.swiftCode,callback:function(t){e.$set(e.ruleForm,"swiftCode",t)},expression:"ruleForm.swiftCode"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"remitterAccount",prop:"bfyAccountNumber"}},[r("el-input",{staticStyle:{width:"417px"},attrs:{placeholder:"Please fill in remitter's account"},model:{value:e.ruleForm.bfyAccountNumber,callback:function(t){e.$set(e.ruleForm,"bfyAccountNumber",t)},expression:"ruleForm.bfyAccountNumber"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"remitterAdd",prop:"bfyAddress"}},[r("el-input",{staticStyle:{width:"417px"},attrs:{placeholder:"Please fill in remitt's address"},model:{value:e.ruleForm.bfyAddress,callback:function(t){e.$set(e.ruleForm,"bfyAddress",t)},expression:"ruleForm.bfyAddress"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"payAmount",prop:"needPay"}},[r("el-input",{staticStyle:{width:"317px"},attrs:{placeholder:"Please fill in payment amount"},model:{value:e.ruleForm.needPay,callback:function(t){e.$set(e.ruleForm,"needPay",e._n(t))},expression:"ruleForm.needPay"}})],1)],1):e._e(),e._v(" "),"BTC"==e.ruleForm.type?r("div",[r("el-form-item",{attrs:{label:"比特币地址",prop:"btcAddress"}},[r("el-input",{staticStyle:{width:"317px"},attrs:{placeholder:""},model:{value:e.ruleForm.btcAddress,callback:function(t){e.$set(e.ruleForm,"btcAddress",t)},expression:"ruleForm.btcAddress"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{label:"支付数量",prop:"needPay"}},[r("el-input",{staticStyle:{width:"317px"},attrs:{placeholder:""},model:{value:e.ruleForm.needPay,callback:function(t){e.$set(e.ruleForm,"needPay",e._n(t))},expression:"ruleForm.needPay"}})],1)],1):e._e(),e._v(" "),r("el-form-item",{staticStyle:{"margin-left":"-15px"},attrs:{label:"订单状态",prop:"status"}},[r("el-select",{staticStyle:{width:"306px"},attrs:{placeholder:"请选择订单状态"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[r("el-option",{attrs:{label:"待支付尾款",value:"WAIT_FOR_FINAL_PAY"}}),e._v(" "),r("el-option",{attrs:{label:"已完成支付",value:"PAID"}})],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisibleOffline=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.addPayInfo}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{staticStyle:{"margin-top":"-9vh"},attrs:{title:"修改地址",visible:e.dialogVisible1,width:"30%"},on:{"update:visible":function(t){e.dialogVisible1=t}}},[r("h4",[e._v("ID")]),e._v(" "),r("el-input",{attrs:{placeholder:this.adressInput1,disabled:!0}}),e._v(" "),r("h4",[e._v("原收货人名字")]),e._v(" "),r("el-input",{attrs:{placeholder:this.oldAddressDetail.Receiver,disabled:!0}}),e._v(" "),r("h4",[e._v("新收货人名字")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.newAddressDetail.Receiver,callback:function(t){e.$set(e.newAddressDetail,"Receiver",t)},expression:"newAddressDetail.Receiver"}}),e._v(" "),r("h4",[e._v("原收货手机号")]),e._v(" "),r("el-input",{attrs:{placeholder:this.oldAddressDetail.MobilePhone,disabled:!0}}),e._v(" "),r("h4",[e._v("新收货手机号")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.newAddressDetail.MobilePhone,callback:function(t){e.$set(e.newAddressDetail,"MobilePhone",t)},expression:"newAddressDetail.MobilePhone"}}),e._v(" "),r("h4",[e._v("原收货电话")]),e._v(" "),r("el-input",{attrs:{placeholder:this.oldAddressDetail.PhoneNumber,disabled:!0}}),e._v(" "),r("h4",[e._v("新收货电话")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.newAddressDetail.PhoneNumber,callback:function(t){e.$set(e.newAddressDetail,"PhoneNumber",t)},expression:"newAddressDetail.PhoneNumber"}}),e._v(" "),r("h4",[e._v("原地址")]),e._v(" "),r("el-input",{attrs:{placeholder:this.oldAddressDetail.Address,disabled:!0}}),e._v(" "),r("h4",[e._v("新地址")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.newAddressDetail.Address,callback:function(t){e.$set(e.newAddressDetail,"Address",t)},expression:"newAddressDetail.Address"}}),e._v(" "),r("h4",[e._v("原邮编号")]),e._v(" "),r("el-input",{attrs:{placeholder:this.oldAddressDetail.ZipCode,disabled:!0}}),e._v(" "),r("h4",[e._v("新邮编号")]),e._v(" "),r("el-input",{attrs:{placeholder:"请输入"},model:{value:e.newAddressDetail.ZipCode,callback:function(t){e.$set(e.newAddressDetail,"ZipCode",t)},expression:"newAddressDetail.ZipCode"}}),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible1=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.submitAddress}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};t.a=i},aGzO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("AkH7"),a=r.n(i);for(var s in i)"default"!==s&&function(e){r.d(t,e,function(){return i[e]})}(s);var l=r("bngM");var o=function(e){r("fNtR")},n=r("VU/8")(a.a,l.a,!1,o,"data-v-d3f16c50",null);t.default=n.exports},bngM:function(e,t,r){"use strict";var i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"all_com"},[r("div",{staticClass:"title_com"},[r("span",[e._v("订单列表")]),e._v(" "),r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectStair},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options1,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),r("div",{staticClass:"exportList",staticStyle:{margin:"10px 0 0 20px"}},[r("span",[e._v("共"+e._s(this.totalNo)+"个")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"text"},on:{click:e.exportList}},[e._v("导出")])],1),e._v(" "),r("orderFilter"),e._v(" "),r("orderComponent",{attrs:{totalNo:e.totalNo,isOffine:e.isOffine}})],1)},staticRenderFns:[]};t.a=i},fNtR:function(e,t){},gjbl:function(e,t){},hoTJ:function(e,t){},z8bA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=r("mvHQ"),s=(i=a)&&i.__esModule?i:{default:i};t.default={name:"orderFilter",data:function(){return{orderList:[],value1:"",value2:"全部",value3:"",value4:"",value5:"",valuetime1:"",input1:"",selectSearch:"请选择",fullscreenLoading:!1,isIndeterminate:!0,checkAll:!1,checkedItems:[],valueSearch:"请选择",productList:[],options3:[{value:"",label:"全部"},{value:"UnionPay",label:"人民币"},{value:"BTC",label:"BTC"}],options4:[{value:"",label:"全部"},{value:"cn",label:"中文"},{value:"en",label:"英文"}],options5:[{value:"",label:"请选择"},{value:"createTime",label:"创建时间"},{value:"updateTime",label:"更新时间"}],optionsSearch:[{value:1,label:"订单号"},{value:2,label:"用户名"},{value:3,label:"邮箱"},{value:4,label:"物流单号"},{value:5,label:"收件人姓名"},{value:6,label:"托管人姓名"},{value:7,label:"订单ID"}]}},watch:{value1:{handler:function(e,t){},deep:!0},orderList:{handler:function(e,t){},deep:!0}},mounted:function(){var e=this;this.msg.$on("sendOrderList",function(t){e.value1=t.value1,e.orderList=t.orderList})},methods:{selectSecond1:function(){console.log("selectSecond1")},selectSecond2:function(){console.log("selectSecond2")},selectSecond3:function(){console.log("selectSecond3")},selectSecond5:function(){console.log(this.value5)},filterBtn:function(){this.valueSearch="请选择",this.input1="",this.msg.$emit("searchBtn",{orderNo:"",account:"",email:"",expressOrderNumber:"",receiverName:"",hostName:"",orderId:""}),this.updateStartTime="",this.updateEndTime="",this.createStartTime="",this.createEndTime="","createTime"==this.value5?(this.createStartTime=this.valuetime1[0]/1e3,this.createEndTime=this.valuetime1[1]/1e3):"updateTime"==this.value5&&(this.updateStartTime=this.valuetime1[0]/1e3,this.updateEndTime=this.valuetime1[1]/1e3);var e={value2:this.value2,value3:this.value3,value4:this.value4,value5:this.value5,updateStartTime:this.updateStartTime,updateEndTime:this.updateEndTime,createStartTime:this.createStartTime,createEndTime:this.createEndTime};this.msg.$emit("filterBtn",e)},searchCondition:function(){},searchBtn:function(){if(this.value2="",this.value3="",this.value4="",this.value5="",this.valuetime1="",this.msg.$emit("filterBtn",{value2:"",value3:"",value4:"",value5:"",updateStartTime:"",updateEndTime:"",createStartTime:"",createEndTime:""}),"请选择"!=this.valueSearch){this.orderNo="",this.account="",this.email="",this.expressOrderNumber="",this.receiverName="",this.hostName="",this.orderId="",1==this.valueSearch?this.orderNo=this.input1:2==this.valueSearch?this.account=this.input1:3==this.valueSearch?this.email=this.input1:4==this.valueSearch?this.expressOrderNumber=this.input1:5==this.valueSearch?this.receiverName=this.input1:6==this.valueSearch?this.hostName=this.input1:7==this.valueSearch&&(this.orderId=this.input1);var e={orderNo:this.orderNo,account:this.account,email:this.email,expressOrderNumber:this.expressOrderNumber,receiverName:this.receiverName,hostName:this.hostName,orderId:this.orderId};this.msg.$emit("searchBtn",e)}},handleCheckAllChange:function(e){this.checkedItems=e?this.orderList:[],this.isIndeterminate=!1},handleCheckedItemsChange:function(e){var t=e.length;this.checkAll=t===this.orderList.length,this.isIndeterminate=t>0&&t<this.orderList.length},exportOrderConfirm:function(){var e=this;this.$confirm("确定批量导出订单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.checkedItems<1?e.$message({type:"info",message:"请选择需导出的订单!"}):(e.fullscreenLoading=!0,e.exportOrder())}).catch(function(){e.$message({type:"info",message:"已取消"})})},exportOrder:function(){var e=this;console.log(this.value1);var t="0";t="UNDELIVERED2"==this.value1?"1":"0";var r=[],i={};this.checkedItems.forEach(function(e,t){r.push(e.Id)}),i.orderIds=r,this.$api("/admin/order/export_order",{isHostingOrder:t,orderIds:(0,s.default)(i),notice:"批量导出成功"}).then(function(t){location.href=t.data.csvFilePath,e.fullscreenLoading=!1;var r=e.checkedItems;e.msg.$emit("exportChecked",r),e.checkedItems=[]})},getProductList:function(){var e=this;this.$api("/admin/product/list",{status:"1,2,3,5",pageNo:0,pageSize:100}).then(function(t){var r=t.data;e.productList=r.list})}},created:function(){this.getProductList()}}}});
//# sourceMappingURL=1.6a1046d88e2a0b358e82.js.map
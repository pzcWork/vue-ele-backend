webpackJsonp([38],{"+wSI":function(t,a,e){"use strict";var s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"all_com"},[e("div",{staticClass:"title_com"},[t._v("批量发券（确认）")]),t._v(" "),e("el-card",{staticClass:"box-card",attrs:{"body-style":{"background-color":"#ffffff",overflow:"hidden"}}},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("批量发券（"+t._s(this.sendName+"/"+this.activity_id)+"）")])]),t._v(" "),e("div",{staticClass:"files_msg"},[e("p",{staticClass:"files_msg_total"},[t._v("共"+t._s(t.accountData?t.accountData.length:"")+"项，其中"),e("span",{staticStyle:{color:"red",margin:"0 5px","font-size":"17px"}},[t._v(t._s(t.noCount))]),t._v("项有问题，请确认以下内容")]),t._v(" "),e("router-link",{attrs:{to:{path:"/coupon/send_batch",query:{activity_id:t.activity_id}}}},[e("el-button",[t._v("重新选择")])],1),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.confirmSend}},[t._v("提交")])],1),t._v(" "),e("div",{staticClass:"files_table_out"},[e("table",{staticClass:"files_table",attrs:{width:"100%"}},[e("tr",[e("td",[t._v("用户名发券")])]),t._v(" "),t._l(t.accountData,function(a,s){return e("tr",{key:s,class:"background"+a.type},[e("td",[t._v(t._s(a.key))])])})],2),t._v(" "),e("table",{staticClass:"files_table",attrs:{width:"100%"}},[e("tr",[e("td",[t._v("邮箱发券")])]),t._v(" "),t._l(t.emailData,function(a,s){return e("tr",{key:s,class:"background"+a.type},[e("td",[t._v(t._s(a.key))])])})],2),t._v(" "),e("table",{staticClass:"files_table",attrs:{width:"100%"}},[e("tr",[e("td",[t._v("手机号发券")])]),t._v(" "),t._l(t.phoneNumberData,function(a,s){return e("tr",{key:s,class:"background"+a.type},[e("td",[t._v(t._s(a.key))])])})],2)])])],1)},staticRenderFns:[]};a.a=s},BiEw:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("NYxO");a.default={data:function(){return{sendCouponAll:"",accountData:[],emailData:[],phoneNumberData:[],sendUserData:[],noCount:0,activity_id:"",sendEndTime:"",sendName:""}},methods:{confirmSend:function(){var t=this,a=[];this.sendUserData.forEach(function(t,e){a.push(t.Account)}),this.$api("/admin/coupon/new_coupon_record_add",{activity_id:this.activity_id,expire:this.sendEndTime,accounts:a.join(",")}).then(function(a){t.$message({message:a.msg,type:"success"}),t.$router.push({path:"/tool/coupon_send"})})}},mounted:function(){},created:function(){this.sendEndTime=JSON.parse(sessionStorage.getItem("sendEndTime")),this.sendName=JSON.parse(sessionStorage.getItem("sendName")),this.activity_id=this.$route.query.activity_id,this.sendCouponAll=JSON.parse(sessionStorage.getItem("sendCouponAll")),this.sendCouponAll?this.accountData=this.sendCouponAll.data.accountData:this.accountData=[],this.sendCouponAll?this.emailData=this.sendCouponAll.data.emailData:this.emailData=[],this.sendCouponAll?this.phoneNumberData=this.sendCouponAll.data.phoneNumberData:this.phoneNumberData=[],this.sendCouponAll?this.sendUserData=this.sendCouponAll.data.sendUserData:this.sendUserData=[],console.log(this.sendCouponAll);var t=0;this.accountData&&this.accountData.forEach(function(a,e){1!=a.type&&(t+=1)}),this.emailData&&this.emailData.forEach(function(a,e){1!=a.type&&(t+=1)}),this.phoneNumberData&&this.phoneNumberData.forEach(function(a,e){1!=a.type&&(t+=1)}),this.noCount=t}}},akMw:function(t,a){},hqgs:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("BiEw"),n=e.n(s);for(var i in s)"default"!==i&&function(t){e.d(a,t,function(){return s[t]})}(i);var o=e("+wSI");var c=function(t){e("akMw")},r=e("VU/8")(n.a,o.a,!1,c,"data-v-1030cd8b",null);a.default=r.exports}});
//# sourceMappingURL=38.119570ab6166e30a232f.js.map
webpackJsonp([40],{"7fqg":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("uww2"),o=n.n(s);for(var i in s)"default"!==i&&function(e){n.d(t,e,function(){return s[e]})}(i);var a=n("JZlo");var l=function(e){n("qKR0")},d=n("VU/8")(o.a,a.a,!1,l,"data-v-a2596c1e",null);t.default=d.exports},JZlo:function(e,t,n){"use strict";var s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"all_com"},[n("div",{staticClass:"title_com"},[e._v("批量发券")]),e._v(" "),n("el-card",{staticClass:"box-card",attrs:{"body-style":{"background-color":"#ffffff"}}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("批量发券（"+e._s(this.sendName+"/"+this.activity_id)+"）")])]),e._v(" "),n("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.uploadURL(),name:"files","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-success":e.upsuccess,multiple:"",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选取文件")]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[n("span",[e._v("请上传发货列表excel文件，如果你还没有模板，请先")]),e._v(" "),n("span",{staticClass:"download",on:{click:e.downloadModel}},[e._v("下载模板")])])],1),e._v(" "),n("router-link",{attrs:{to:{path:"/coupon/send_review",query:{activity_id:e.activity_id}}}},[n("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary",size:"small"}},[e._v("浏览")])],1)],1)],1)},staticRenderFns:[]};t.a=s},qKR0:function(e,t){},uww2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s,o=n("mvHQ"),i=(s=o)&&s.__esModule?s:{default:s};n("NYxO");t.default={data:function(){return{fileList:[],sendCouponAll:"",activity_id:"",sendEndTime:"",sendName:""}},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},downloadModel:function(){this.$api("/admin/file/export_coupon_temp",{tempName:"coupon"}).then(function(e){location.href=e.data.csvFilePath})},upsuccess:function(e,t,n){this.sendCouponAll=e,sessionStorage.setItem("sendCouponAll",(0,i.default)(this.sendCouponAll))},uploadURL:function(){return"/api/admin/file/send_coupon_handle"}},created:function(){this.sendEndTime=JSON.parse(sessionStorage.getItem("sendEndTime")),this.sendName=JSON.parse(sessionStorage.getItem("sendName")),sessionStorage.setItem("sendCouponAll",(0,i.default)(this.sendCouponAll)),this.activity_id=this.$route.query.activity_id}}}});
//# sourceMappingURL=40.4593d76702b474116673.js.map
webpackJsonp([10],{KIt7:function(t,e){},PZ3q:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("W1+x"),n=a.n(o);for(var s in o)"default"!==s&&function(t){a.d(e,t,function(){return o[t]})}(s);var r=a("s0qK");var i=function(t){a("KIt7")},l=a("VU/8")(n.a,r.a,!1,i,"data-v-e05afb8a",null);e.default=l.exports},"W1+x":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"",data:function(){return{dialogVisible:!1,amendInput1:"",Id:0,Account:"",Email:"",RegistTime:"",RegistIp:"",Source:"",userStatus:!1,LoginPswdHash:"",Btc:0,currentPage1:1,totalNo1:0,totalNo2:0,totalNo3:0,totalNo4:0,EmailVerified:!1,totp:!1,sms:!1,PhoneNumber:0,PhonePrefix:0,tableData1:[],tableData2:[],tableData3:[],tableData4:[]}},methods:{unbundle:function(){var t=this;this.$confirm("此操作将解绑用户谷歌验证, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$api("/admin/user/remove_totp",{uid:t.Id,notice:"本用户谷歌验证解绑成功"}).then(function(t){setTimeout("location.reload()",1500)})}).catch(function(){t.$message({type:"info",message:"已取消解绑"})})},updateUserActive:function(t){var e=this;this.$confirm("此操作将更改用户账号状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api("/admin/user/update_user_active",{uid:e.Id,active:t,notice:"更改状态成功!"}).then(function(t){setTimeout("location.reload()",1500)})}).catch(function(){e.$message({type:"info",message:"已取消更改状态"})})},submitNewEmail:function(){var t=this;this.$api("/admin/user/update_user_email",{uid:this.Id,email:this.amendInput1}).then(function(e){alert("邮箱修改成功"),t.Email=t.amendInput1}),this.dialogVisible=!1},vertifyEmail:function(){var t=this;this.$api("/admin/user/vertify_user_email",{uid:this.Id,email:this.Email}).then(function(e){alert("邮件已发送至"+t.Email+"，请注意查收")})},getUserDetail:function(){var t=this;this.$api("/admin/user/get_user_detail",{uid:this.Id}).then(function(e){console.log(e);var a=e.data;t.userStatus=!a.userInfo.Active,t.EmailVerified=a.userInfo.EmailVerified,t.Account=a.userInfo.Account,t.Email=a.userInfo.Email,t.RegistTime=new Date(1e3*parseInt(a.userInfo.RegistTime)).toISOString().slice(0,10),t.RegistIp=a.userInfo.RegistIp,t.Source=a.userInfo.Source,t.Btc=a.balance.Btc,t.PhoneNumber=a.userInfo.PhoneNumber,t.PhonePrefix=a.userInfo.PhonePrefix,a.userInfo.LoginPswdHash&&(t.LoginPswdHash=a.userInfo.LoginPswdHash),"totp"==a.userInfo.AuthType&&""!=a.userInfo.AuthType?t.totp=!0:""==a.userInfo.AuthType&&""!=a.userInfo.TotpAuthKey?t.totp=!0:t.totp=!1,("sms"==a.userInfo.AuthType||"totp"==a.userInfo.AuthType)&&(t.sms=a.userInfo.AuthType)})},getOrderList:function(t){var e=this;this.$api("/admin/order/get_user_order_list",{uid:this.Id,pageNo:t,pageSize:10}).then(function(t){e.tableData1=t.data.orderList,e.totalNo1=t.data.page.totalNum})},getCoupon:function(t){var e=this;this.$api("/admin/user/get_user_coupon_record",{uid:this.Id,pageNo:t,pageSize:10}).then(function(t){console.log(t),e.tableData2=t.data.userCouponRecord,e.totalNo2=t.data.page.totalNum})},getCouponCode:function(t){var e=this;this.$api("/admin/user/get_user_coupon_code",{uid:this.Id,pageNo:t,pageSize:10}).then(function(t){e.tableData3=t.data.userCpnHistList,e.totalNo3=t.data.page.totalNum})},getBtcList:function(t){var e=this;this.$api("/admin/user/get_user_btc_history_list",{uid:this.Id,pageNo:t,pageSize:10}).then(function(t){e.tableData4=t.data.btcHisList,e.totalNo4=t.data.page.totalNum})}},created:function(){this.Id=this.$route.query.uid,this.getUserDetail(),this.getOrderList(1),this.getCoupon(1),this.getCouponCode(1),this.getBtcList(1)}}},s0qK:function(t,e,a){"use strict";var o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all_com"},[a("div",{staticClass:"title_com"},[t._v("用户详情")]),t._v(" "),a("el-card",{staticClass:"box-card",attrs:{"body-style":{"background-color":"#ffffff"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("用户信息")])]),t._v(" "),a("table",{staticClass:"usermessage"},[a("tr",[a("td",[t._v("ID")]),t._v(" "),a("td",[t._v(t._s(t.Id))])]),t._v(" "),a("tr",[a("td",[t._v("用户名")]),t._v(" "),a("td",[t._v(t._s(t.Account))])]),t._v(" "),a("tr",[a("td",[t._v("邮箱")]),t._v(" "),a("td",[a("span",[t.EmailVerified?a("span",{staticClass:"tagPresell"},[t._v(t._s(t.Email)+" 已验证")]):a("span",[t._v("\n                            未验证\n                            "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.vertifyEmail}},[t._v("发送验证邮件")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("修改")])],1)])])]),t._v(" "),a("tr",[a("td",[t._v("状态")]),t._v(" "),a("td",[a("el-button",{class:this.userStatus?"":"activeCls",attrs:{size:"mini"},on:{click:function(e){t.updateUserActive(!0)}}},[t._v("正常")]),t._v(" "),a("el-button",{class:this.userStatus?"activeCls":"",attrs:{size:"mini"},on:{click:function(e){t.updateUserActive(!1)}}},[t._v("封禁")])],1)]),t._v(" "),a("tr",[a("td",[t._v("注册时间")]),t._v(" "),a("td",[t._v(t._s(t.RegistTime))])]),t._v(" "),a("tr",[a("td",[t._v("注册IP")]),t._v(" "),a("td",[t._v(t._s(t.RegistIp))])]),t._v(" "),a("tr",[a("td",[t._v("注册来源")]),t._v(" "),a("td",[t._v(t._s(t.Source))])]),t._v(" "),a("tr",[a("td",[t._v("资金密码")]),t._v(" "),a("td",[this.LoginPswdHash?a("span",[t._v("已设置")]):a("span",[t._v("\n                        未设置\n                    ")])])]),t._v(" "),a("tr",[a("td",[t._v("谷歌验证")]),t._v(" "),a("td",[this.totp?a("span",[t._v("已设置 \n                        "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini"},on:{click:function(e){t.unbundle()}}},[t._v("解绑")])],1):a("span",[t._v("\n                        未设置\n                    ")])])]),t._v(" "),a("tr",[a("td",[t._v("短信验证")]),t._v(" "),a("td",[this.sms?a("span",[t._v(t._s(t.PhonePrefix)+"-"+t._s(t.PhoneNumber)),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("已设置")])]):a("span",[t._v("\n                        未设置\n                    ")])])]),t._v(" "),a("tr",[a("td",[t._v("BTC余额")]),t._v(" "),a("td",[t._v(t._s(t.Btc))])])])]),t._v(" "),a("el-card",{staticClass:"box-card",attrs:{"body-style":{"background-color":"#ffffff"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("购买记录")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData1,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"CreateTime",label:"时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("capitalize")(e.row.CreateTime))+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"OrderId",width:"180px",label:"订单号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticClass:"showOrder",staticStyle:{color:"#409eff"},attrs:{to:{path:"/ordermanage/order_detail",query:{OrderId:e.row.Id}}}},[t._v("\n                        "+t._s(e.row.OrderId)+"\n                    ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"ProductName",label:"商品名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Amount",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"TotalShouldPayPrice",label:"总金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Discount",label:"优惠金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Price",label:"实付金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Status",label:"订单状态"},scopedSlots:t._u([{key:"default",fn:function(e){return["EXPIRED"==e.row.Status?a("span",[t._v("\t已过期")]):"PRE_AFTER_SALE"==e.row.Status?a("span",[t._v("售后订单待确认")]):"UNPAID"==e.row.Status?a("span",[t._v("待确认支付")]):"CANCELED"==e.row.Status?a("span",[t._v("已取消")]):"PRESELL_PAID"==e.row.Status?a("span",[t._v("已支付定金")]):"BEGIN_FINAL_PAY"==e.row.Status?a("span",[t._v("开始支付尾款")]):"WAIT_FOR_FINAL_PAY"==e.row.Status?a("span",[t._v("待支付尾款")]):"PAID"==e.row.Status?a("span",[t._v("已完成支付")]):"UNDELIVERED"==e.row.Status?a("span",[t._v("待发货")]):"DELIVERED"==e.row.Status?a("span",[t._v("已发货")]):"COMPLETED"==e.row.Status?a("span",[t._v("已确认收货")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.currentPage1,"page-size":10,layout:"total, prev, pager, next, jumper",total:t.totalNo1},on:{"current-change":t.getOrderList}})],1),t._v(" "),a("el-card",{staticClass:"box-card",attrs:{"body-style":{"background-color":"#ffffff"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("优惠券")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData2,stripe:""}},[a("el-table-column",{attrs:{prop:"ID",label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.CouponActivity.ID))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"CreateTime",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("capitalize")(e.row.CouponActivity.CreateTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"活动"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.CouponActivity.Name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Type",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.CouponActivity.Type?a("span",[t._v("代金券")]):t._e(),t._v(" "),2==e.row.CouponActivity.Type?a("span",[t._v("满减券")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"优惠券名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.CouponActivity.Name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"EndTime",label:"有效时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("capitalize")(e.row.CouponActivity.StartTime))+"-"+t._s(t._f("capitalize")(e.row.CouponActivity.EndTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.CouponActivity.Status?a("span",[t._v("失效")]):1==e.row.CouponActivity.Status?a("span",[t._v("有效")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.currentPage1,"page-size":10,layout:"total, prev, pager, next, jumper",total:t.totalNo2},on:{"current-change":t.getCoupon}})],1),t._v(" "),a("el-card",{staticClass:"box-card",attrs:{"body-style":{"background-color":"#ffffff"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("优惠码")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData3,"max-height":"400",stripe:""}},[a("el-table-column",{attrs:{prop:"Id",label:"ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"CreateTime",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("capitalize")(e.row.CouponCode.CouponActivity.CreateTime))+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"活动"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.CouponCode.CouponActivity.Name)+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Type",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.CouponCode.CouponActivity.Type?a("span",[t._v("代金券")]):t._e(),t._v(" "),2==e.row.CouponCode.CouponActivity.Type?a("span",[t._v("满减券")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Code",label:"优惠券码"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.CouponCode.Code)+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"有效时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("capitalize")(e.row.CouponCode.CouponActivity.StartTime))+"-"+t._s(t._f("capitalize")(e.row.CouponCode.CouponActivity.EndTime)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.CouponCode.CouponActivity.Status?a("span",[t._v("过期")]):1==e.row.CouponCode.CouponActivity.Status?a("span",[t._v("审核中")]):2==e.row.CouponCode.CouponActivity.Status?a("span",[t._v("审核成功")]):3==e.row.CouponCode.CouponActivity.Status?a("span",[t._v("审核失败")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.currentPage1,"page-size":10,layout:"total, prev, pager, next, jumper",total:t.totalNo3},on:{"current-change":t.getCouponCode}})],1),t._v(" "),a("el-card",{staticClass:"box-card",attrs:{"body-style":{"background-color":"#ffffff"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("账户明细")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData4,stripe:""}},[a("el-table-column",{attrs:{prop:"Time",label:"时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("capitalize")(e.row.Time))+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Business",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return["balance_to_order"==e.row.Business?a("span",[t._v("余额支付")]):"withdraw"==e.row.Business?a("span",[t._v("提现")]):"fund_order_and_to_balance"==e.row.Business?a("span",[t._v("订单转余额")]):"fund"==e.row.Business?a("span",[t._v("余额充值")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Btcamount",label:"数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.BtcAfter-e.row.BtcBefore)+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"BtcAfter",label:"余额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ObjectId",label:"交易/订单号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticClass:"showOrder",attrs:{to:{path:"/ordermanage/order_detail",query:{OrderId:e.row.ObjectId}}}},[t._v("\n                        "+t._s(e.row.Id)+"\n                    ")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.totalNo4}})],1),t._v(" "),a("el-dialog",{attrs:{title:"修改邮箱地址",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("h4",[t._v("用户名")]),t._v(" "),a("el-input",{attrs:{placeholder:this.Account,disabled:!0}}),t._v(" "),a("h4",[t._v("原邮箱地址")]),t._v(" "),a("el-input",{attrs:{disabled:!0,placeholder:this.Email}}),t._v(" "),a("h4",[t._v("新邮箱地址")]),t._v(" "),a("el-input",{attrs:{placeholder:"新邮箱地址",clearable:""},model:{value:t.amendInput1,callback:function(e){t.amendInput1=e},expression:"amendInput1"}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitNewEmail}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};e.a=o}});
//# sourceMappingURL=10.bda735b8b87344e1db0b.js.map
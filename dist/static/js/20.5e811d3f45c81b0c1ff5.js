webpackJsonp([20],{Drt6:function(t,e){},OU0h:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Z7uh"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);var s=a("xgWA");var l=function(t){a("Drt6")},r=a("VU/8")(n.a,s.a,!1,l,"data-v-97bd38ca",null);e.default=r.exports},Z7uh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("z5Os");e.default={name:"",data:function(){return{tableData:[],dialogVisible:!1,status:"-1",orderStatus:i.orderStatus,sellType:i.sellType,pageNo:1,totalNo:0,sold_out_time:"",input:"",order_id:""}},methods:{saleon:function(t){this.order_id=t,this.dialogVisible=!0},comfirm:function(){var t=this;if(this.sold_out_time)if(this.sold_out_time<=(new Date).getTime())this.$message({type:"error",message:"请选择当前时间之后的下架时间!"});else{var e={product_id:this.order_id,sold_out_time:this.sold_out_time/1e3,notice:"上架成功！"};this.$api("/admin/product/saleon",e).then(function(e){0==e.code&&(t.dialogVisible=!1,t.getList(),t.sold_out_time="")})}else this.$message({type:"error",message:"请选择下架时间!"})},saleoff:function(t){var e=this;this.$confirm("此操作将下架商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={product_id:t,notice:"下架成功！"};e.$api("/admin/product/saleoff",a).then(function(t){e.getList()})})},presell_end:function(t){var e=this;this.$confirm("此操作将结束预售, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={product_id:t,notice:"结束预售成功！"};e.$api("/admin/product/presell_end",a).then(function(t){e.getList()})})},tailing:function(t){var e=this;this.$confirm("此操作将开启尾款, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={product_id:t,notice:"开启尾款成功！"};e.$api("/admin/product/tailing",a).then(function(t){e.getList()})})},getList:function(){var t=this,e={status:this.status,pageNo:this.pageNo-1,pageSize:10};this.$api("/admin/product/list",e).then(function(e){t.tableData=e.data.list,t.totalNo=e.data.page.totalNum})},search:function(){this.pageNo=1,this.getList()},Detail:function(t){this.$router.push("/productmanage/product_detail/"+t)}},created:function(){this.getList()}}},xgWA:function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all_com"},[a("div",{staticClass:"title_com"},[t._v("商品管理")]),t._v(" "),a("el-card",{staticClass:"box-card",attrs:{"body-style":{"background-color":"#ffffff"}}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("商品列表")])]),t._v(" "),a("div",{staticClass:"search_fun"},[a("el-select",{staticClass:"small",staticStyle:{width:"100px"},attrs:{size:"small",placeholder:"请选择"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.orderStatus,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"ID",label:"Id",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"CreateTime",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("date")(e.row.CreateTime))+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"Name",label:"商品名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SellType",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.IsPresell?"预售":"全款")+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"RegistTime",label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(e.row.DefaultAttr.Price)+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"UpdateTime",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t.orderStatus[e.row.Status])+"\n                ")]}}])}),t._v(" "),a("el-table-column",{staticClass:"action",attrs:{label:"操作",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.Status||4==e.row.Status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.saleon(e.row.ID)}}},[t._v("\n                        上架\n                    ")]):t._e(),t._v(" "),1==e.row.Status||5==e.row.Status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.saleoff(e.row.ID)}}},[t._v("\n                        下架\n                    ")]):t._e(),t._v(" "),2==e.row.Status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.presell_end(e.row.ID)}}},[t._v("\n                        结束预售\n                    ")]):t._e(),t._v(" "),3==e.row.Status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.tailing(e.row.ID)}}},[t._v("\n                        开启尾款\n                    ")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.Detail(e.row.ID)}}},[t._v("\n                        详细\n                    ")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{"current-page":t.pageNo,background:"",layout:"prev, pager, next",total:t.totalNo},on:{"update:currentPage":function(e){t.pageNo=e},"current-change":t.getList}})],1),t._v(" "),a("el-dialog",{attrs:{title:"请选择下架时间",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-date-picker",{attrs:{size:"small",placeholder:"请选择下架时间","value-format":"timestamp",type:"date"},model:{value:t.sold_out_time,callback:function(e){t.sold_out_time=e},expression:"sold_out_time"}}),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.comfirm}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};e.a=i}});
//# sourceMappingURL=20.5e811d3f45c81b0c1ff5.js.map